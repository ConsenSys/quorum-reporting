var abi = [{"inputs":[{"internalType":"string","name":"name","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newBalance","type":"uint256"},{"indexed":false,"internalType":"string","name":"_date","type":"string"}],"name":"DepositMade","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newBalance","type":"uint256"},{"indexed":false,"internalType":"string","name":"_date","type":"string"}],"name":"WithdrawalMade","type":"event"},{"inputs":[],"name":"currentBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"customerName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"date","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"_date","type":"string"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"contract BankAccount","name":"target","type":"address"},{"internalType":"string","name":"_date","type":"string"},{"internalType":"string","name":"_reason","type":"string"}],"name":"pay","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"_date","type":"string"},{"internalType":"string","name":"_reason","type":"string"}],"name":"receivePayment","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"string","name":"_date","type":"string"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}];
var bankaccountContract = web3.eth.contract(abi);

var currentBlock = eth.blockNumber;

var bankaccountOne = bankaccountContract.new(
    "Peter Fox",
    {
      from: web3.eth.accounts[0],
      data: '0x60806040523480156200001157600080fd5b5060405162000f2538038062000f25833981810160405260208110156200003757600080fd5b81019080805160405193929190846401000000008211156200005857600080fd5b838201915060208201858111156200006f57600080fd5b82518660018202830111640100000000821117156200008d57600080fd5b8083526020830192505050908051906020019080838360005b83811015620000c3578082015181840152602081019050620000a6565b50505050905090810190601f168015620000f15780820380516001836020036101000a031916815260200191505b50604052505050806000908051906020019062000110929190620001bc565b5060006001819055506040518060400160405280600a81526020017f30312f30312f32303230000000000000000000000000000000000000000000008152506002908051906020019062000166929190620001bc565b506040518060400160405280600f81526020017f496e697469616c206f70656e696e67000000000000000000000000000000000081525060039080519060200190620001b4929190620001bc565b50506200026b565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001ff57805160ff191683800117855562000230565b8280016001018555821562000230579182015b828111156200022f57825182559160200191906001019062000212565b5b5090506200023f919062000243565b5090565b6200026891905b80821115620002645760008160009055506001016200024a565b5090565b90565b610caa806200027b6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063cefceaf91161005b578063cefceaf91461027f578063dc048cf214610302578063e21dfbba146103c7578063f1215d25146105435761007d565b8063323046b1146100825780638829502a14610105578063ce845d1d14610261575b600080fd5b61008a610608565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100ca5780820151818401526020810190506100af565b50505050905090810190601f1680156100f75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61025f6004803603606081101561011b57600080fd5b81019080803590602001909291908035906020019064010000000081111561014257600080fd5b82018360208201111561015457600080fd5b8035906020019184600183028401116401000000008311171561017657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156101d957600080fd5b8201836020820111156101eb57600080fd5b8035906020019184600183028401116401000000008311171561020d57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506106a6565b005b6102696106cc565b6040518082815260200191505060405180910390f35b6102876106d2565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102c75780820151818401526020810190506102ac565b50505050905090810190601f1680156102f45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103c56004803603604081101561031857600080fd5b81019080803590602001909291908035906020019064010000000081111561033f57600080fd5b82018360208201111561035157600080fd5b8035906020019184600183028401116401000000008311171561037357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610770565b005b610541600480360360808110156103dd57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561042457600080fd5b82018360208201111561043657600080fd5b8035906020019184600183028401116401000000008311171561045857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156104bb57600080fd5b8201836020820111156104cd57600080fd5b803590602001918460018302840111640100000000831117156104ef57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610925565b005b6106066004803603604081101561055957600080fd5b81019080803590602001909291908035906020019064010000000081111561058057600080fd5b82018360208201111561059257600080fd5b803590602001918460018302840111640100000000831117156105b457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610a91565b005b60028054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561069e5780601f106106735761010080835404028352916020019161069e565b820191906000526020600020905b81548152906001019060200180831161068157829003601f168201915b505050505081565b6106b08383610a91565b80600390805190602001906106c6929190610bcf565b50505050565b60015481565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107685780601f1061073d57610100808354040283529160200191610768565b820191906000526020600020905b81548152906001019060200180831161074b57829003601f168201915b505050505081565b81600154116107e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f6e6f7420656e6f756768206d6f6e65790000000000000000000000000000000081525060200191505060405180910390fd5b81600154036001819055508060029080519060200190610808929190610bcf565b506040518060400160405280600f81526020017f42616e6b207769746864726177616c000000000000000000000000000000000081525060039080519060200190610854929190610bcf565b507ff60e31e0761e185829aef72801fb232d73e71ff53d8819e347cfca707b64e5db82600154600260405180848152602001838152602001806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156109115780601f106108e657610100808354040283529160200191610911565b820191906000526020600020905b8154815290600101906020018083116108f457829003601f168201915b505094505050505060405180910390a15050565b61092f8483610770565b8273ffffffffffffffffffffffffffffffffffffffff16638829502a8584846040518463ffffffff1660e01b8152600401808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b838110156109a757808201518184015260208101905061098c565b50505050905090810190601f1680156109d45780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b83811015610a0d5780820151818401526020810190506109f2565b50505050905090810190601f168015610a3a5780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015610a5c57600080fd5b505af1158015610a70573d6000803e3d6000fd5b505050508060039080519060200190610a8a929190610bcf565b5050505050565b81600154016001819055508060029080519060200190610ab2929190610bcf565b506040518060400160405280600c81526020017f42616e6b206465706f736974000000000000000000000000000000000000000081525060039080519060200190610afe929190610bcf565b507ff60e31e0761e185829aef72801fb232d73e71ff53d8819e347cfca707b64e5db8260015460026040518084815260200183815260200180602001828103825283818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015610bbb5780601f10610b9057610100808354040283529160200191610bbb565b820191906000526020600020905b815481529060010190602001808311610b9e57829003601f168201915b505094505050505060405180910390a15050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610c1057805160ff1916838001178555610c3e565b82800160010185558215610c3e579182015b82811115610c3d578251825591602001919060010190610c22565b5b509050610c4b9190610c4f565b5090565b610c7191905b80821115610c6d576000816000905550600101610c55565b5090565b9056fea26469706673582212201ad31603307de95e28e32bd13dc0389577d517e39283a69031efd1b2e80ed27d64736f6c63430006060033',
      gas: '4700000',
      privateFor: ["ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="]
    }, function (e, contract){
      console.log(e, contract);
      if (typeof contract.address !== 'undefined') {
        console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
      }
    });
waitForNextBlock();

var bankaccountTwo = bankaccountContract.new(
    "Krish Swaminathan",
    {
        from: web3.eth.accounts[0],
        data: '0x60806040523480156200001157600080fd5b5060405162000f2538038062000f25833981810160405260208110156200003757600080fd5b81019080805160405193929190846401000000008211156200005857600080fd5b838201915060208201858111156200006f57600080fd5b82518660018202830111640100000000821117156200008d57600080fd5b8083526020830192505050908051906020019080838360005b83811015620000c3578082015181840152602081019050620000a6565b50505050905090810190601f168015620000f15780820380516001836020036101000a031916815260200191505b50604052505050806000908051906020019062000110929190620001bc565b5060006001819055506040518060400160405280600a81526020017f30312f30312f32303230000000000000000000000000000000000000000000008152506002908051906020019062000166929190620001bc565b506040518060400160405280600f81526020017f496e697469616c206f70656e696e67000000000000000000000000000000000081525060039080519060200190620001b4929190620001bc565b50506200026b565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10620001ff57805160ff191683800117855562000230565b8280016001018555821562000230579182015b828111156200022f57825182559160200191906001019062000212565b5b5090506200023f919062000243565b5090565b6200026891905b80821115620002645760008160009055506001016200024a565b5090565b90565b610caa806200027b6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063cefceaf91161005b578063cefceaf91461027f578063dc048cf214610302578063e21dfbba146103c7578063f1215d25146105435761007d565b8063323046b1146100825780638829502a14610105578063ce845d1d14610261575b600080fd5b61008a610608565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100ca5780820151818401526020810190506100af565b50505050905090810190601f1680156100f75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61025f6004803603606081101561011b57600080fd5b81019080803590602001909291908035906020019064010000000081111561014257600080fd5b82018360208201111561015457600080fd5b8035906020019184600183028401116401000000008311171561017657600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156101d957600080fd5b8201836020820111156101eb57600080fd5b8035906020019184600183028401116401000000008311171561020d57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505091929192905050506106a6565b005b6102696106cc565b6040518082815260200191505060405180910390f35b6102876106d2565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102c75780820151818401526020810190506102ac565b50505050905090810190601f1680156102f45780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6103c56004803603604081101561031857600080fd5b81019080803590602001909291908035906020019064010000000081111561033f57600080fd5b82018360208201111561035157600080fd5b8035906020019184600183028401116401000000008311171561037357600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610770565b005b610541600480360360808110156103dd57600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019064010000000081111561042457600080fd5b82018360208201111561043657600080fd5b8035906020019184600183028401116401000000008311171561045857600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290803590602001906401000000008111156104bb57600080fd5b8201836020820111156104cd57600080fd5b803590602001918460018302840111640100000000831117156104ef57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610925565b005b6106066004803603604081101561055957600080fd5b81019080803590602001909291908035906020019064010000000081111561058057600080fd5b82018360208201111561059257600080fd5b803590602001918460018302840111640100000000831117156105b457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610a91565b005b60028054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561069e5780601f106106735761010080835404028352916020019161069e565b820191906000526020600020905b81548152906001019060200180831161068157829003601f168201915b505050505081565b6106b08383610a91565b80600390805190602001906106c6929190610bcf565b50505050565b60015481565b60008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156107685780601f1061073d57610100808354040283529160200191610768565b820191906000526020600020905b81548152906001019060200180831161074b57829003601f168201915b505050505081565b81600154116107e7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260108152602001807f6e6f7420656e6f756768206d6f6e65790000000000000000000000000000000081525060200191505060405180910390fd5b81600154036001819055508060029080519060200190610808929190610bcf565b506040518060400160405280600f81526020017f42616e6b207769746864726177616c000000000000000000000000000000000081525060039080519060200190610854929190610bcf565b507ff60e31e0761e185829aef72801fb232d73e71ff53d8819e347cfca707b64e5db82600154600260405180848152602001838152602001806020018281038252838181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156109115780601f106108e657610100808354040283529160200191610911565b820191906000526020600020905b8154815290600101906020018083116108f457829003601f168201915b505094505050505060405180910390a15050565b61092f8483610770565b8273ffffffffffffffffffffffffffffffffffffffff16638829502a8584846040518463ffffffff1660e01b8152600401808481526020018060200180602001838103835285818151815260200191508051906020019080838360005b838110156109a757808201518184015260208101905061098c565b50505050905090810190601f1680156109d45780820380516001836020036101000a031916815260200191505b50838103825284818151815260200191508051906020019080838360005b83811015610a0d5780820151818401526020810190506109f2565b50505050905090810190601f168015610a3a5780820380516001836020036101000a031916815260200191505b5095505050505050600060405180830381600087803b158015610a5c57600080fd5b505af1158015610a70573d6000803e3d6000fd5b505050508060039080519060200190610a8a929190610bcf565b5050505050565b81600154016001819055508060029080519060200190610ab2929190610bcf565b506040518060400160405280600c81526020017f42616e6b206465706f736974000000000000000000000000000000000000000081525060039080519060200190610afe929190610bcf565b507ff60e31e0761e185829aef72801fb232d73e71ff53d8819e347cfca707b64e5db8260015460026040518084815260200183815260200180602001828103825283818154600181600116156101000203166002900481526020019150805460018160011615610100020316600290048015610bbb5780601f10610b9057610100808354040283529160200191610bbb565b820191906000526020600020905b815481529060010190602001808311610b9e57829003601f168201915b505094505050505060405180910390a15050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10610c1057805160ff1916838001178555610c3e565b82800160010185558215610c3e579182015b82811115610c3d578251825591602001919060010190610c22565b5b509050610c4b9190610c4f565b5090565b610c7191905b80821115610c6d576000816000905550600101610c55565b5090565b9056fea26469706673582212201ad31603307de95e28e32bd13dc0389577d517e39283a69031efd1b2e80ed27d64736f6c63430006060033',
        gas: '4700000',
        privateFor: ["ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="]
    }, function (e, contract){
        console.log(e, contract);
        if (typeof contract.address !== 'undefined') {
            console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
        }
    });
waitForNextBlock();

var accnt = eth.contract(abi).at("0x1932c48b2bf8102ba33b4a6b545c32236e342f34");
accnt.deposit(1000, "20/05/2020", {from:eth.accounts[0], privateFor: ["ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="]});
waitForNextBlock();

accnt = eth.contract(abi).at("0x1932c48b2bf8102ba33b4a6b545c32236e342f34");
accnt.pay(100, "0x1349f3e1b8d71effb47b840594ff27da7e603d17", "21/05/2020", "Friday night dinner", {from:eth.accounts[0], privateFor: ["ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="]});
waitForNextBlock();

accnt = eth.contract(abi).at("0x1349f3e1b8d71effb47b840594ff27da7e603d17");
accnt.withdraw(50, "22/05/2020", {from:eth.accounts[0], privateFor: ["ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="]});

function waitForNextBlock() {
    while(eth.blockNumber === currentBlock) {
    }
    currentBlock = eth.blockNumber;
}